import{_ as a,o as l,c as s,ae as e}from"./chunks/framework.CLid5Cgc.js";const u=JSON.parse('{"title":"Linux","description":"","frontmatter":{"title":"Linux"},"headers":[],"relativePath":"notes/linux/index.md","filePath":"notes/linux/index.md"}'),h={name:"notes/linux/index.md"};function t(n,i,r,d,o,p){return l(),s("div",null,[...i[0]||(i[0]=[e(`<h1 id="linux" tabindex="-1">Linux <a class="header-anchor" href="#linux" aria-label="Permalink to &quot;Linux&quot;">​</a></h1><h2 id="文件目录结构及用途" tabindex="-1">文件目录结构及用途 <a class="header-anchor" href="#文件目录结构及用途" aria-label="Permalink to &quot;文件目录结构及用途&quot;">​</a></h2><p>/sys 系统文件 /boot 启动文件 /dev 设备 终端、网卡、内存、CPU、磁盘、光驱等 /lib 库文件 /etc 服务配置文件，如用户账号密码（/etc/passwd）、用户组、网卡配置 /media 音频设备 /mnt 即mount，挂载点，挂载磁盘、光驱等 /proc 进程管理，数字即进程id /run 运行时文件 /usr 应用程序配置、模板文件、库文件 /root 超级管理员的家目录 /sbin 超级权限拥有的特殊权限 /home 每个用户自己的目录 /bin 可执行文件，普通用户的权限 /srv 存放对外的数据 /opt 应用程序目录 /var 日志文件等，系统日志，应用日志 /tmp 临时缓存目录，程序运行时缓存文件</p><h2 id="指令" tabindex="-1">指令 <a class="header-anchor" href="#指令" aria-label="Permalink to &quot;指令&quot;">​</a></h2><h3 id="文件目录管理" tabindex="-1">文件目录管理 <a class="header-anchor" href="#文件目录管理" aria-label="Permalink to &quot;文件目录管理&quot;">​</a></h3><h4 id="查看" tabindex="-1">查看 <a class="header-anchor" href="#查看" aria-label="Permalink to &quot;查看&quot;">​</a></h4><ul><li>cd</li><li>pwd</li><li>ls</li><li>cat</li><li>more： 空格下一页 b上一页</li><li>tree 查看文件树</li><li>head -n file 查看文件前n行</li><li>tail -n file 查看文件后n行</li></ul><h4 id="操作" tabindex="-1">操作 <a class="header-anchor" href="#操作" aria-label="Permalink to &quot;操作&quot;">​</a></h4><ul><li>touch</li><li>mkdir</li><li>vim</li><li>cp</li><li>mv</li><li>vim</li></ul><h3 id="vim" tabindex="-1">vim <a class="header-anchor" href="#vim" aria-label="Permalink to &quot;vim&quot;">​</a></h3><h4 id="指令-1" tabindex="-1">指令 <a class="header-anchor" href="#指令-1" aria-label="Permalink to &quot;指令&quot;">​</a></h4><ul><li>i 开始编辑</li><li>o 下一行开始编辑</li><li>yy 复制行</li><li>p 粘贴</li><li>nyy 复制多行（如：复制两行 2yy）</li><li>u 撤销</li><li>dd 删除单行</li><li>dG 删除当前行到末行</li><li>dgg 删除当前行到首行</li><li>G 光标切换到末行</li><li>gg 光标切换到首航</li></ul><h4 id="组合键" tabindex="-1">组合键 <a class="header-anchor" href="#组合键" aria-label="Permalink to &quot;组合键&quot;">​</a></h4><ul><li>ctrl + v 批量选择</li></ul><h4 id="冒号指令" tabindex="-1">冒号指令 <a class="header-anchor" href="#冒号指令" aria-label="Permalink to &quot;冒号指令&quot;">​</a></h4><ul><li><p>:set nu 显示行号</p></li><li><p>:set nonu 显示行号</p></li><li><p>:n 光标到n行（如 :6 到第六行）</p></li><li><p>:%s/abc/def/g 将abc替换为def</p></li><li><p>/abc 查找abc，n往下找，N网上找</p></li></ul><h3 id="权限管理" tabindex="-1">权限管理 <a class="header-anchor" href="#权限管理" aria-label="Permalink to &quot;权限管理&quot;">​</a></h3><h4 id="权限查看" tabindex="-1">权限查看 <a class="header-anchor" href="#权限查看" aria-label="Permalink to &quot;权限查看&quot;">​</a></h4><p><strong>d rwx r-x r-x：</strong></p><ul><li>第一位： d为目录 -为文件</li><li>第一部分： 用户权限</li><li>第二部分： 组权限</li><li>第三部分： 其他人权限</li></ul><p><strong>授权：</strong></p><ul><li>r： 读，模式数4</li><li>w： 写，模式数2</li><li>x： 执行，模式数1</li></ul><h4 id="授权" tabindex="-1">授权 <a class="header-anchor" href="#授权" aria-label="Permalink to &quot;授权&quot;">​</a></h4><h5 id="集体授权" tabindex="-1">集体授权 <a class="header-anchor" href="#集体授权" aria-label="Permalink to &quot;集体授权&quot;">​</a></h5><ul><li>chmod 777 1.txt 任何人都可读写执行删除操作</li></ul><h5 id="单独授权" tabindex="-1">单独授权 <a class="header-anchor" href="#单独授权" aria-label="Permalink to &quot;单独授权&quot;">​</a></h5><ul><li>chmod u+x 1.txt 给用户赋予执行权限</li><li>chmod g+x 1.txt 给用户组赋予执行权限</li><li>chmod o+x 1.txt 给其他人赋予执行权限</li><li>chmod u-x 1.txt 撤销用户的执行权限</li></ul><h5 id="递归授权" tabindex="-1">递归授权 <a class="header-anchor" href="#递归授权" aria-label="Permalink to &quot;递归授权&quot;">​</a></h5><ul><li>chmod 777 a -R 将a目录及目录下所有文件集体授权</li></ul><h4 id="文件归属" tabindex="-1">文件归属 <a class="header-anchor" href="#文件归属" aria-label="Permalink to &quot;文件归属&quot;">​</a></h4><ul><li>chown [用户名]:[用户组] [文件名] 更改文件所属用户和组</li><li>chown :[用户组] [文件名] 更改文件所属组</li></ul><h2 id="用户管理" tabindex="-1">用户管理 <a class="header-anchor" href="#用户管理" aria-label="Permalink to &quot;用户管理&quot;">​</a></h2><h2 id="用户登录" tabindex="-1">用户登录 <a class="header-anchor" href="#用户登录" aria-label="Permalink to &quot;用户登录&quot;">​</a></h2><p>[root@myserver~]#: 用户名称@主机名称（可用hostname查看）</p><ul><li><strong>~</strong> 代表宿主目录，即用户的家目录</li><li><strong>#</strong> 代表超级管理员用户</li><li><strong>$</strong> 代表普通用户</li></ul><h2 id="用户信息" tabindex="-1">用户信息 <a class="header-anchor" href="#用户信息" aria-label="Permalink to &quot;用户信息&quot;">​</a></h2><h3 id="id" tabindex="-1">id <a class="header-anchor" href="#id" aria-label="Permalink to &quot;id&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 指令： id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) gid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) groups</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><ul><li>uid 用户的id</li><li>gid 用户所属的组id</li><li>groups 创建用户时自动生成的与用户同名的组</li></ul><h3 id="指令-2" tabindex="-1">指令 <a class="header-anchor" href="#指令-2" aria-label="Permalink to &quot;指令&quot;">​</a></h3><ul><li>whoami： 返回的是用户的名称</li></ul><h2 id="创建用户" tabindex="-1">创建用户 <a class="header-anchor" href="#创建用户" aria-label="Permalink to &quot;创建用户&quot;">​</a></h2><p>useradd 课指定用户名称、home目录、用户组、gid等</p><p><strong>josh❌1000:1000::/home/josh:/bin/bash：</strong></p><ul><li>用户名:密码:用户id:组id::宿主目录:shell</li><li>/bin/bash 是默认分配给用户使用的</li><li>/sbin/nologin 去禁止用户登录，如： useradd josh -s /sbin/nologin 创建用户并禁止登录</li></ul><h2 id="删除用户" tabindex="-1">删除用户 <a class="header-anchor" href="#删除用户" aria-label="Permalink to &quot;删除用户&quot;">​</a></h2><p>userdel [name]</p><h2 id="切换用户" tabindex="-1">切换用户 <a class="header-anchor" href="#切换用户" aria-label="Permalink to &quot;切换用户&quot;">​</a></h2><ul><li>su [用户名]： 切换到用户</li><li>exit： 退出当前用户</li><li>su - [name]： 切换用户并切换到对应环境变量</li></ul><h2 id="修改用户属性" tabindex="-1">修改用户属性 <a class="header-anchor" href="#修改用户属性" aria-label="Permalink to &quot;修改用户属性&quot;">​</a></h2><p>usermod</p><ul><li>usermod josh -L 锁定账号，禁止登录，-U解锁</li></ul><h2 id="磁盘管理" tabindex="-1">磁盘管理 <a class="header-anchor" href="#磁盘管理" aria-label="Permalink to &quot;磁盘管理&quot;">​</a></h2><h3 id="指令-3" tabindex="-1">指令 <a class="header-anchor" href="#指令-3" aria-label="Permalink to &quot;指令&quot;">​</a></h3><ul><li>fdisk： 磁盘分区</li><li>mkfs： 磁盘格式化 -mount： 挂载磁盘，将/dev目录下的磁盘，挂载到指定目录，如： mount /dev/sdb1 /data/sdb1</li><li>unmount： 卸载磁盘</li><li>df： 磁盘查看 -h 带单位</li></ul><h2 id="安装包" tabindex="-1">安装包 <a class="header-anchor" href="#安装包" aria-label="Permalink to &quot;安装包&quot;">​</a></h2><h3 id="工具" tabindex="-1">工具 <a class="header-anchor" href="#工具" aria-label="Permalink to &quot;工具&quot;">​</a></h3><ul><li>rpm</li><li>yum</li></ul><h4 id="rpm" tabindex="-1">rpm <a class="header-anchor" href="#rpm" aria-label="Permalink to &quot;rpm&quot;">​</a></h4><p>适用于安装不依赖其他软件的单一软件</p><ul><li>rpm -qa： 获取已安装的包列表</li><li>rpm -ivh xxx.rpm： 安装xxx.rpm</li><li>rpm -e xxx： 卸载xxx</li><li>rpm -Uvh xxx.rpm： 更新xxx.rpm</li></ul><h4 id="yum" tabindex="-1">yum <a class="header-anchor" href="#yum" aria-label="Permalink to &quot;yum&quot;">​</a></h4><p>适用于安装带依赖的软件</p><ul><li>/etc/yum.repos.d yum源</li><li>yum remove [包名]</li><li>yum install [包名] -y</li><li>yum update [包名]</li><li>yum repolist 仓库列表</li><li>yum clean all 清空源缓存</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[base] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 源名称</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">CentOS-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$releasever </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Base</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 仓库描述</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mirrorlist</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">http://mirrorlist.centos.org/?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">release</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$releasever&amp;arch</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$basearch&amp;repo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&amp;infra</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$infra </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 源地址 源地址内要有/repodata/repomd.xml</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#baseurl=http://mirror.centos.org/centos/$releasever/os/$basearch/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">gpgcheck</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 证书验证</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">gpgkey</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7</span></span></code></pre></div><h4 id="dnf" tabindex="-1">dnf <a class="header-anchor" href="#dnf" aria-label="Permalink to &quot;dnf&quot;">​</a></h4><p>比yum新的安装工具</p><ul><li>dnf list installed 列出已安装包</li><li>dnf check-update 检查更新</li><li>dnf repolist all 查看源</li><li>dnf search 查找包</li><li>dnf install 安装包</li><li>dnf reinstall 重装包</li><li>dnf download 下载包</li><li>dnf remove 卸载包</li><li>dnf clean all 清除缓存</li></ul><h2 id="文件处理" tabindex="-1">文件处理 <a class="header-anchor" href="#文件处理" aria-label="Permalink to &quot;文件处理&quot;">​</a></h2><h3 id="归档" tabindex="-1">归档 <a class="header-anchor" href="#归档" aria-label="Permalink to &quot;归档&quot;">​</a></h3><ul><li>tar cf xxx.tar file1 file2 创建归档</li><li>tar xf xxx.tar -C /root/dist 创建归档</li><li>tar zxf xxx.tar.gz -C /root/dist 解压归档</li></ul><h2 id="下载文件" tabindex="-1">下载文件 <a class="header-anchor" href="#下载文件" aria-label="Permalink to &quot;下载文件&quot;">​</a></h2><ul><li>wget 下载链接文件</li></ul><h2 id="网络管理" tabindex="-1">网络管理 <a class="header-anchor" href="#网络管理" aria-label="Permalink to &quot;网络管理&quot;">​</a></h2><ul><li>IP： 全球唯一的机器标识</li><li>DNS： 域名服务，解析域名为ip</li><li>Gateway： 路由器网关</li><li>ipv4： 网络地址为4 * 8 = 32位</li><li>子网掩码： 255.255.255.0简写为/24，192.168.123.1/24 意味着该32位的ip可分配的地址为32 - 24 = 8 位，即最大可分配256个IP地址</li><li>NAT： 虚拟机通过宿主机IP进行数据传输</li><li>桥接： 虚拟机与宿主机共享一个局域网，获取与宿主机相同网段的IP地址</li></ul><h3 id="网卡操作" tabindex="-1">网卡操作 <a class="header-anchor" href="#网卡操作" aria-label="Permalink to &quot;网卡操作&quot;">​</a></h3><ul><li>/etc/sysconfig/network-scripts 网卡配置文件</li><li>/etc/sysconfig/network-scripts/ifcfg-eth0 即eth0的网卡配置文件</li><li>ifconfig 查看网卡信息</li><li>ip addr 查看网卡信息</li><li>systemctl restart network 重启网卡</li><li>nmcli connection reload 重启网卡</li><li>nmcli connection up xxx 启动某网卡</li><li>ifdown xxx 断开xxx网卡</li><li>ifup xxx 连上xxx网卡</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DEVICE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">lo</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">IPADDR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">127.0.0.1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # IP地址</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">NETMASK</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">255.0.0.0</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 子网掩码</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">NETWORK</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">127.0.0.0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BROADCAST</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">127.255.255.255</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BOOTPROTO</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;none&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # none static静态 dhcp 动态</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UUID</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;xxxxxxx&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 网卡UUID</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ONBOOT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">yes</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 开机自动打开网卡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">NAME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">loopback</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 网卡名称</span></span></code></pre></div><h3 id="查看端口进程" tabindex="-1">查看端口进程 <a class="header-anchor" href="#查看端口进程" aria-label="Permalink to &quot;查看端口进程&quot;">​</a></h3><ul><li>lsof -i:port</li></ul><h2 id="vnc远程连接" tabindex="-1">VNC远程连接 <a class="header-anchor" href="#vnc远程连接" aria-label="Permalink to &quot;VNC远程连接&quot;">​</a></h2><ul><li>dnf install tigervnc-server tigervnc-server-module -y 安装VNC服务</li><li>vncpassword 修改vnc密码</li><li>systemctl deamon-reload 重新加载服务</li><li>systemctl start vncserver 启动vnc服务</li></ul><h2 id="ssh" tabindex="-1">SSH <a class="header-anchor" href="#ssh" aria-label="Permalink to &quot;SSH&quot;">​</a></h2><ul><li>systemctl status sshd 查看ssh状态</li></ul>`,84)])])}const c=a(h,[["render",t]]);export{u as __pageData,c as default};
