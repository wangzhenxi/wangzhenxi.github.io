import{_ as i,o as a,c as e,ae as t}from"./chunks/framework.CLid5Cgc.js";const c=JSON.parse('{"title":"蓝牙应用开发","description":"","frontmatter":{"title":"蓝牙应用开发"},"headers":[],"relativePath":"notes/lan-ya-ying-yong-kai-fa/index.md","filePath":"notes/lan-ya-ying-yong-kai-fa/index.md"}'),r={name:"notes/lan-ya-ying-yong-kai-fa/index.md"};function n(o,l,u,d,p,s){return a(),e("div",null,[...l[0]||(l[0]=[t('<h1 id="蓝牙应用开发" tabindex="-1">蓝牙应用开发 <a class="header-anchor" href="#蓝牙应用开发" aria-label="Permalink to &quot;蓝牙应用开发&quot;">​</a></h1><h2 id="简介" tabindex="-1">简介 <a class="header-anchor" href="#简介" aria-label="Permalink to &quot;简介&quot;">​</a></h2><p>记录该项目每日进程</p><ul><li>编辑器设置</li><li>协议制定（最好硬件方提供）</li><li>功能实现测试页</li></ul><h2 id="名词" tabindex="-1">名词 <a class="header-anchor" href="#名词" aria-label="Permalink to &quot;名词&quot;">​</a></h2><ul><li>数位: 一个十六位二进制数是一个字节，如 FF:EE 是两个字节</li><li>设备: 一个设备下有多个服务</li><li>服务: 一个服务下有多个特征</li><li>特征: 每个特征都有各自的是否可读写权限，当有可读权限时才可获取特征值</li><li>ArrayBuffer: 一个用于创建内存大小的原型对象，十六进制数，如 new ArrayBuffer(2) 创建了两个字节的空间</li><li>uint: 无符号整型数。如 Uint8 为 8位二进制无符号整型数，占一个字节</li><li>模二除法: 按位异或</li></ul><h2 id="编辑器设置" tabindex="-1">编辑器设置 <a class="header-anchor" href="#编辑器设置" aria-label="Permalink to &quot;编辑器设置&quot;">​</a></h2><p>参照wepy的文档，进行一些编辑器上的设置，需要补充的是，vscode 中的 beautify 插件不支持wpy格式，需下载wepy对应的beautify进行格式化，推荐wpy-beautify。</p><h2 id="ble" tabindex="-1">BLE <a class="header-anchor" href="#ble" aria-label="Permalink to &quot;BLE&quot;">​</a></h2><p>将文档中接口写入测试页中，拿取设备进行测试</p><h4 id="测试项" tabindex="-1">测试项 <a class="header-anchor" href="#测试项" aria-label="Permalink to &quot;测试项&quot;">​</a></h4><p>第一阶段：不需要设备</p><ul><li>蓝牙适配器初始化</li><li>关闭蓝牙模块</li><li>获取适配器状态</li><li>发现周围蓝牙设备</li><li>停止获取周围蓝牙设备</li><li>获取已发现蓝牙设备列表</li><li>获取已连接蓝牙设备列表（需固定设备ID）</li></ul><p>第二阶段：需要设备</p><ul><li>连接蓝牙设备</li><li>断开连接蓝牙设备</li><li>获取蓝牙设备服务列表</li><li>获取指定服务对应的特征列表</li><li>获取指定特征</li></ul><p>第三阶段：需要设备特征有可通知权限</p><ul><li>订阅特征值</li><li>接收蓝牙设备发出的特征值（小程序无法显示二进制数，所以需转成十六进制数，并提供给硬件工程师校验是否正确）</li></ul><p>第四阶段：需要设备有一个可写特征</p><ul><li>写入特征值</li></ul><p>第五阶段：需要拟定好的蓝牙数据传输协议</p><ul><li>根据协议规则封装一个解包(蓝牙设备传输过来的数据)和封包(发送给蓝牙设备的数据)的方法</li><li>类似get和post请求的方式，根据上述方法封装写入特征值方法和读取特征值方法</li></ul><p>第六阶段：接入业务逻辑</p>',22)])])}const f=i(r,[["render",n]]);export{c as __pageData,f as default};
